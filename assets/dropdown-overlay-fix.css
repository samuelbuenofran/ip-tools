/* ===== AGGRESSIVE DROPDOWN OVERLAY FIX ===== */
/* This file uses !important declarations to override Bootstrap's default behavior */

/* Force dropdown to be on top of EVERYTHING */
.dropdown-menu {
    z-index: 99999 !important; /* Maximum possible z-index */
    position: absolute !important; /* Keep absolute positioning */
    top: 100% !important; /* Position below the dropdown toggle */
    left: auto !important; /* Let Bootstrap handle horizontal positioning */
    right: 0 !important; /* Align to the right */
    transform: none !important; /* Disable any transforms */
    background: #007bff !important; /* Solid blue background */
    border: 2px solid #ffffff !important; /* White border for visibility */
    border-radius: 8px !important;
    box-shadow: 
        0 10px 40px rgba(0, 0, 0, 0.3),
        0 5px 20px rgba(0, 0, 0, 0.2) !important;
    min-width: 200px !important;
    margin-top: 5px !important;
    padding: 8px 0 !important;
}

/* Force all other elements to stay below dropdown */
*:not(.dropdown-menu):not(.dropdown-menu *) {
    z-index: 1 !important;
}

/* Specific elements that commonly cause issues */
.card, .btn, .alert, .container, .row, .col, [class*="col-"],
.bg-primary, .container-fluid, .navbar-collapse {
    position: relative !important;
    z-index: 1 !important;
}

/* Enhanced dropdown items with perfect visibility */
.dropdown-item {
    background: #007bff !important; /* Solid blue background */
    color: #ffffff !important; /* White text */
    font-weight: 600 !important;
    padding: 12px 20px !important;
    margin: 2px 8px !important;
    border-radius: 6px !important;
    transition: all 0.2s ease !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
    border: none !important;
}

.dropdown-item:hover {
    background: #0056b3 !important; /* Darker blue on hover */
    color: #ffffff !important;
    transform: translateX(4px) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

.dropdown-item:active {
    background: #004085 !important; /* Even darker when active */
    color: #ffffff !important;
    transform: translateX(2px) !important;
}

/* Dropdown divider with better visibility */
.dropdown-divider {
    border-color: rgba(255, 255, 255, 0.4) !important;
    border-width: 2px !important;
    margin: 8px 12px !important;
}

/* Fix navbar text visibility - force white text */
.navbar-dark .navbar-nav .nav-link,
.navbar-dark .navbar-brand,
.navbar-dark .navbar-nav .dropdown-toggle {
    color: #ffffff !important; /* Force white text */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
    font-weight: 500 !important;
}

.navbar-dark .navbar-nav .nav-link:hover,
.navbar-dark .navbar-brand:hover,
.navbar-dark .navbar-nav .dropdown-toggle:hover {
    color: #ffffff !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7) !important;
}

/* Ensure navbar has proper z-index */
.navbar {
    z-index: 1030 !important;
    position: relative !important;
}

/* Force dropdown container to have proper positioning */
.navbar-nav .dropdown {
    position: relative !important;
    z-index: 99999 !important; /* Same as dropdown menu */
}

/* Mobile responsiveness */
@media (max-width: 991.98px) {
    .dropdown-menu {
        position: static !important; /* Stack vertically on mobile */
        z-index: 99999 !important;
        background: #007bff !important;
        margin-top: 10px !important;
        border-radius: 8px !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }
    
    .dropdown-item {
        background: transparent !important;
        color: #ffffff !important;
        border-radius: 6px !important;
        margin: 2px 8px !important;
    }
    
    .dropdown-item:hover {
        background: rgba(255, 255, 255, 0.1) !important;
        color: #ffffff !important;
        transform: translateX(8px) !important;
    }
}

/* Animation for dropdown appearance */
@keyframes dropdownSlideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.dropdown-menu.show {
    animation: dropdownSlideIn 0.2s ease-out !important;
}

/* Ensure dropdown is always visible and not clipped */
.dropdown-menu.show {
    overflow: visible !important;
    clip: auto !important;
    clip-path: none !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Force proper stacking context */
.navbar > .container-fluid,
.navbar > .container {
    position: relative !important;
    z-index: 1030 !important;
}

/* Additional safety measures */
.dropdown-menu.show::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    pointer-events: none;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .dropdown-menu {
        background: #000000 !important;
        border: 3px solid #ffffff !important;
        z-index: 99999 !important;
    }
    
    .dropdown-item {
        background: #000000 !important;
        color: #ffffff !important;
        border-bottom: 1px solid #ffffff !important;
    }
    
    .dropdown-item:hover {
        background: #333333 !important;
        color: #ffffff !important;
    }
}

/* Ensure no other CSS can override these rules */
.dropdown-menu,
.dropdown-menu.show,
.dropdown-item,
.navbar-dark .navbar-nav .nav-link,
.navbar-dark .navbar-brand,
.navbar-dark .navbar-nav .dropdown-toggle {
    /* Force these styles to be applied */
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

}
