RewriteEngine On

# Don't redirect if already in public directory
RewriteCond %{REQUEST_URI} !^/projects/ip-tools/public/

# Don't redirect if it's a file or directory that exists
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Redirect all other requests to the public directory
RewriteRule ^(.*)$ /projects/ip-tools/public/$1 [L]

# If accessing the root directly, redirect to public
RewriteRule ^$ /projects/ip-tools/public/ [R=301,L]

